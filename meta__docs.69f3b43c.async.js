"use strict";(self.webpackChunk_rc_component_motion=self.webpackChunk_rc_component_motion||[]).push([[904],{33147:function(a,e,n){var t;n.r(e),n.d(e,{demos:function(){return _}});var d=n(15009),r=n.n(d),p=n(99289),c=n.n(p),s=n(67294),v=n(90512),m=n(33770),l=n(53144),_={"docs-demo-basic-demo-basic":{component:s.memo(s.lazy(function(){return n.e(433).then(n.bind(n,6536))})),asset:{type:"BLOCK",id:"docs-demo-basic-demo-basic",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(99306).Z},clsx:{type:"NPM",value:"2.1.1"},"@rc-component/motion":{type:"NPM",value:"1.3.0"},react:{type:"NPM",value:"18.3.1"},"./basic.less":{type:"FILE",value:n(45188).Z}},entry:"index.tsx"},context:{"./basic.less":l,clsx:v,"rc-motion":m,react:t||(t=n.t(s,2)),"/Users/jilin/projects/antd/rc-motion/docs/examples/basic.less":l},renderOpts:{compile:function(){var h=c()(r()().mark(function u(){var i,M=arguments;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.e(250).then(n.bind(n,90250));case 2:return o.abrupt("return",(i=o.sent).default.apply(i,M));case 3:case"end":return o.stop()}},u)}));function I(){return h.apply(this,arguments)}return I}()}}}},43346:function(a,e,n){var t;n.r(e),n.d(e,{demos:function(){return _}});var d=n(15009),r=n.n(d),p=n(99289),c=n.n(p),s=n(67294),v=n(90512),m=n(33770),l=n(53144),_={"docs-demo-deadline-demo-deadline":{component:s.memo(s.lazy(function(){return n.e(433).then(n.bind(n,93797))})),asset:{type:"BLOCK",id:"docs-demo-deadline-demo-deadline",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(42083).Z},clsx:{type:"NPM",value:"2.1.1"},"@rc-component/motion":{type:"NPM",value:"1.3.0"},react:{type:"NPM",value:"18.3.1"},"./basic.less":{type:"FILE",value:n(45188).Z}},entry:"index.tsx"},context:{"./basic.less":l,clsx:v,"rc-motion":m,react:t||(t=n.t(s,2)),"/Users/jilin/projects/antd/rc-motion/docs/examples/basic.less":l},renderOpts:{compile:function(){var h=c()(r()().mark(function u(){var i,M=arguments;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.e(250).then(n.bind(n,90250));case 2:return o.abrupt("return",(i=o.sent).default.apply(i,M));case 3:case"end":return o.stop()}},u)}));function I(){return h.apply(this,arguments)}return I}()}}}},94530:function(a,e,n){var t;n.r(e),n.d(e,{demos:function(){return _}});var d=n(15009),r=n.n(d),p=n(99289),c=n.n(p),s=n(67294),v=n(90512),m=n(33770),l=n(16383),_={"docs-demo-debug-demo-debug":{component:s.memo(s.lazy(function(){return n.e(433).then(n.bind(n,57349))})),asset:{type:"BLOCK",id:"docs-demo-debug-demo-debug",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(28643).Z},clsx:{type:"NPM",value:"2.1.1"},"@rc-component/motion":{type:"NPM",value:"1.3.0"},react:{type:"NPM",value:"18.3.1"},"./debug.less":{type:"FILE",value:n(69643).Z}},entry:"index.tsx"},context:{"./debug.less":l,clsx:v,"rc-motion":m,react:t||(t=n.t(s,2)),"/Users/jilin/projects/antd/rc-motion/docs/examples/debug.less":l},renderOpts:{compile:function(){var h=c()(r()().mark(function u(){var i,M=arguments;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.e(250).then(n.bind(n,90250));case 2:return o.abrupt("return",(i=o.sent).default.apply(i,M));case 3:case"end":return o.stop()}},u)}));function I(){return h.apply(this,arguments)}return I}()}}}},3038:function(a,e,n){var t;n.r(e),n.d(e,{demos:function(){return _}});var d=n(15009),r=n.n(d),p=n(99289),c=n.n(p),s=n(67294),v=n(90512),m=n(33770),l=n(50696),_={"docs-demo-list-demo-list":{component:s.memo(s.lazy(function(){return n.e(433).then(n.bind(n,77277))})),asset:{type:"BLOCK",id:"docs-demo-list-demo-list",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(99284).Z},clsx:{type:"NPM",value:"2.1.1"},"@rc-component/motion":{type:"NPM",value:"1.3.0"},react:{type:"NPM",value:"18.3.1"},"./list.less":{type:"FILE",value:n(20670).Z}},entry:"index.tsx"},context:{"./list.less":l,clsx:v,"rc-motion":m,react:t||(t=n.t(s,2)),"/Users/jilin/projects/antd/rc-motion/docs/examples/list.less":l},renderOpts:{compile:function(){var h=c()(r()().mark(function u(){var i,M=arguments;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.e(250).then(n.bind(n,90250));case 2:return o.abrupt("return",(i=o.sent).default.apply(i,M));case 3:case"end":return o.stop()}},u)}));function I(){return h.apply(this,arguments)}return I}()}}}},78627:function(a,e,n){var t;n.r(e),n.d(e,{demos:function(){return _}});var d=n(15009),r=n.n(d),p=n(99289),c=n.n(p),s=n(67294),v=n(90512),m=n(33770),l=n(53144),_={"docs-demo-provider-demo-provider":{component:s.memo(s.lazy(function(){return n.e(433).then(n.bind(n,80375))})),asset:{type:"BLOCK",id:"docs-demo-provider-demo-provider",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(75994).Z},clsx:{type:"NPM",value:"2.1.1"},"@rc-component/motion":{type:"NPM",value:"1.3.0"},react:{type:"NPM",value:"18.3.1"},"./basic.less":{type:"FILE",value:n(45188).Z}},entry:"index.tsx"},context:{"./basic.less":l,clsx:v,"rc-motion":m,react:t||(t=n.t(s,2)),"/Users/jilin/projects/antd/rc-motion/docs/examples/basic.less":l},renderOpts:{compile:function(){var h=c()(r()().mark(function u(){var i,M=arguments;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.e(250).then(n.bind(n,90250));case 2:return o.abrupt("return",(i=o.sent).default.apply(i,M));case 3:case"end":return o.stop()}},u)}));function I(){return h.apply(this,arguments)}return I}()}}}},74927:function(a,e,n){var t,d,r;n.r(e),n.d(e,{demos:function(){return M}});var p=n(15009),c=n.n(p),s=n(99289),v=n.n(s),m=n(67294),l=n(90512),_=n(33770),h=n(91331),I=n(73935),u=n(97762),i=n(53144),M={"docs-demo-ssr-demo-ssr":{component:m.memo(m.lazy(function(){return n.e(433).then(n.bind(n,72079))})),asset:{type:"BLOCK",id:"docs-demo-ssr-demo-ssr",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(22191).Z},clsx:{type:"NPM",value:"2.1.1"},"@rc-component/motion":{type:"NPM",value:"1.3.0"},react:{type:"NPM",value:"18.3.1"},"react-dom":{type:"NPM",value:"18.3.1"},"./basic.less":{type:"FILE",value:n(45188).Z}},entry:"index.tsx"},context:{"./basic.less":i,clsx:l,"rc-motion":_,"rc-motion/es/CSSMotion":h,react:t||(t=n.t(m,2)),"react-dom":d||(d=n.t(I,2)),"react-dom/server":r||(r=n.t(u,2)),"/Users/jilin/projects/antd/rc-motion/docs/examples/basic.less":i},renderOpts:{compile:function(){var E=v()(c()().mark(function b(){var y,x=arguments;return c()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,n.e(250).then(n.bind(n,90250));case 2:return f.abrupt("return",(y=f.sent).default.apply(y,x));case 3:case"end":return f.stop()}},b)}));function o(){return E.apply(this,arguments)}return o}()}}}},65471:function(a,e,n){var t;n.r(e),n.d(e,{demos:function(){return l}});var d=n(15009),r=n.n(d),p=n(99289),c=n.n(p),s=n(67294),v=n(33770),m=n(37299),l={"docs-demo-transition-inside-debug-demo-transition-inside-debug":{component:s.memo(s.lazy(function(){return n.e(433).then(n.bind(n,13828))})),asset:{type:"BLOCK",id:"docs-demo-transition-inside-debug-demo-transition-inside-debug",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(61018).Z},"@rc-component/motion":{type:"NPM",value:"1.3.0"},react:{type:"NPM",value:"18.3.1"},"./transition-inside-debug.less":{type:"FILE",value:n(18939).Z}},entry:"index.tsx"},context:{"./transition-inside-debug.less":m,"rc-motion":v,react:t||(t=n.t(s,2)),"/Users/jilin/projects/antd/rc-motion/docs/examples/transition-inside-debug.less":m},renderOpts:{compile:function(){var _=c()(r()().mark(function I(){var u,i=arguments;return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,n.e(250).then(n.bind(n,90250));case 2:return E.abrupt("return",(u=E.sent).default.apply(u,i));case 3:case"end":return E.stop()}},I)}));function h(){return _.apply(this,arguments)}return h}()}}}},11171:function(a,e,n){n.r(e),n.d(e,{demos:function(){return d}});var t=n(67294),d={}},53144:function(a,e,n){n.r(e)},16383:function(a,e,n){n.r(e)},50696:function(a,e,n){n.r(e)},37299:function(a,e,n){n.r(e)},55469:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});const t=[]},46131:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});const t=[]},45041:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});const t=[]},84559:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});const t=[]},70639:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});const t=[]},85645:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});const t=[]},36747:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});const t=[]},51446:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});const t=[{value:"React lifecycle controlled motion library.",paraId:0,tocIndex:0},{value:"https://react-component.github.io/motion/",paraId:1,tocIndex:1},{value:`import CSSMotion from '@rc-component/motion';

export default ({ visible }) => (
  <CSSMotion visible={visible} motionName="my-motion">
    {({ className, style }) => <div className={className} style={style} />}
  </CSSMotion>
);
`,paraId:2,tocIndex:3},{value:"Property",paraId:3,tocIndex:5},{value:"Type",paraId:3,tocIndex:5},{value:"Default",paraId:3,tocIndex:5},{value:"Description",paraId:3,tocIndex:5},{value:"motionName",paraId:3,tocIndex:5},{value:"string",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Config motion name, will dynamic update when status changed",paraId:3,tocIndex:5},{value:"visible",paraId:3,tocIndex:5},{value:"boolean",paraId:3,tocIndex:5},{value:"true",paraId:3,tocIndex:5},{value:"Trigger motion events",paraId:3,tocIndex:5},{value:"motionAppear",paraId:3,tocIndex:5},{value:"boolean",paraId:3,tocIndex:5},{value:"true",paraId:3,tocIndex:5},{value:"Use motion when appear",paraId:3,tocIndex:5},{value:"motionEnter",paraId:3,tocIndex:5},{value:"boolean",paraId:3,tocIndex:5},{value:"true",paraId:3,tocIndex:5},{value:"Use motion when enter",paraId:3,tocIndex:5},{value:"motionLeave",paraId:3,tocIndex:5},{value:"boolean",paraId:3,tocIndex:5},{value:"true",paraId:3,tocIndex:5},{value:"Use motion when leave",paraId:3,tocIndex:5},{value:"motionLeaveImmediately",paraId:3,tocIndex:5},{value:"boolean",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Will trigger leave even on mount",paraId:3,tocIndex:5},{value:"motionDeadline",paraId:3,tocIndex:5},{value:"number",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Trigger motion status change even when motion event not fire",paraId:3,tocIndex:5},{value:"removeOnLeave",paraId:3,tocIndex:5},{value:"boolean",paraId:3,tocIndex:5},{value:"true",paraId:3,tocIndex:5},{value:"Remove element when motion leave end",paraId:3,tocIndex:5},{value:"leavedClassName",paraId:3,tocIndex:5},{value:"string",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Set leaved element className",paraId:3,tocIndex:5},{value:"onAppearStart",paraId:3,tocIndex:5},{value:"(HTMLElement, Event) => CSSProperties | void;",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Trigger when appear start, return style will patch to element",paraId:3,tocIndex:5},{value:"onEnterStart",paraId:3,tocIndex:5},{value:"(HTMLElement, Event) => CSSProperties | void;",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Trigger when enter start, return style will patch to element",paraId:3,tocIndex:5},{value:"onLeaveStart",paraId:3,tocIndex:5},{value:"(HTMLElement, Event) => CSSProperties | void;",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Trigger when leave start, return style will patch to element",paraId:3,tocIndex:5},{value:"onAppearActive",paraId:3,tocIndex:5},{value:"(HTMLElement, Event) => CSSProperties | void;",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Trigger when appear active, return style will patch to element",paraId:3,tocIndex:5},{value:"onEnterActive",paraId:3,tocIndex:5},{value:"(HTMLElement, Event) => CSSProperties | void;",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Trigger when enter active, return style will patch to element",paraId:3,tocIndex:5},{value:"onLeaveActive",paraId:3,tocIndex:5},{value:"(HTMLElement, Event) => CSSProperties | void;",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Trigger when leave active, return style will patch to element",paraId:3,tocIndex:5},{value:"onAppearEnd",paraId:3,tocIndex:5},{value:"(HTMLElement, Event) => boolean | void;",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Trigger when appear end, will not finish when return false",paraId:3,tocIndex:5},{value:"onEnterEnd",paraId:3,tocIndex:5},{value:"(HTMLElement, Event) => boolean | void;",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Trigger when enter end, will not finish when return false",paraId:3,tocIndex:5},{value:"onLeaveEnd",paraId:3,tocIndex:5},{value:"(HTMLElement, Event) => boolean | void;",paraId:3,tocIndex:5},{value:"-",paraId:3,tocIndex:5},{value:"Trigger when leave end, will not finish when return false",paraId:3,tocIndex:5},{value:"extends all the props from ",paraId:4,tocIndex:6},{value:"CSSMotion",paraId:5,tocIndex:6},{value:"Property",paraId:6,tocIndex:6},{value:"Type",paraId:6,tocIndex:6},{value:"Default",paraId:6,tocIndex:6},{value:"Description",paraId:6,tocIndex:6},{value:"keys",paraId:6,tocIndex:6},{value:"React.Key[]",paraId:6,tocIndex:6},{value:"-",paraId:6,tocIndex:6},{value:"Motion list keys",paraId:6,tocIndex:6},{value:"component",paraId:6,tocIndex:6},{value:"string | React.ComponentType",paraId:6,tocIndex:6},{value:"div",paraId:6,tocIndex:6},{value:"wrapper component",paraId:6,tocIndex:6},{value:`npm install
npm start
`,paraId:7,tocIndex:7},{value:"@rc-component/motion is released under the MIT license.",paraId:8,tocIndex:8}]},45188:function(a,e){e.Z=`.grid {
  display: table;

  > div {
    display: table-cell;
    min-width: 350px;
  }
}

.demo-block {
  display: block;
  width: 300px;
  height: 300px;
  overflow: hidden;
  background: red;
}

.transition {
  transition: background 0.3s, height 1.3s, opacity 1.3s;
  // transition: all 5s!important;

  &.transition-appear,
  &.transition-enter {
    opacity: 0;
  }

  &.transition-appear.transition-appear-active,
  &.transition-enter.transition-enter-active {
    opacity: 1;
  }

  &.transition-leave-active {
    background: green;
    opacity: 0;
  }
}

.animation {
  animation-duration: 1.3s;
  animation-fill-mode: both;

  &.animation-appear,
  &.animation-enter {
    animation-name: enter;
    animation-play-state: paused;
    animation-fill-mode: both;
  }

  &.animation-appear.animation-appear-active,
  &.animation-enter.animation-enter-active {
    animation-name: enter;
    animation-play-state: running;
  }

  &.animation-leave {
    animation-name: leave;
    animation-play-state: paused;
    animation-fill-mode: both;

    &.animation-leave-active {
      animation-name: leave;
      animation-play-state: running;
    }
  }
}

.hidden {
  display: none !important;
}

@keyframes enter {
  from {
    transform: scale(0);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes leave {
  from {
    transform: scale(1);
    opacity: 1;
  }
  to {
    transform: scale(0);
    opacity: 0;
  }
}
`},99306:function(a,e){e.Z=`import { clsx } from 'clsx';
import CSSMotion from 'rc-motion';
import React from 'react';
import './basic.less';

interface DemoState {
  show: boolean;
  forceRender: boolean;
  motionLeaveImmediately: boolean;
  removeOnLeave: boolean;
  hasMotionClassName: boolean;
  prepare: boolean;
}

async function forceDelay(): Promise<void> {
  return new Promise(resolve => {
    setTimeout(resolve, 2000);
  });
}

const Div = React.forwardRef<HTMLDivElement, any>((props, ref) => {
  React.useEffect(() => {
    console.log('DIV >>> Mounted!');

    return () => {
      console.log('DIV >>> UnMounted!');
    };
  }, []);

  return <div {...props} ref={ref} />;
});

class App extends React.Component<{}, DemoState> {
  state: DemoState = {
    show: true,
    forceRender: false,
    motionLeaveImmediately: false,
    removeOnLeave: true,
    hasMotionClassName: true,
    prepare: false,
  };

  onTrigger = () => {
    setTimeout(() => {
      this.setState(({ show }) => ({ show: !show }));
    }, 100);
  };

  onTriggerDelay = () => {
    this.setState(({ prepare }) => ({ prepare: !prepare }));
  };

  onForceRender = () => {
    this.setState(({ forceRender }) => ({ forceRender: !forceRender }));
  };

  onRemoveOnLeave = () => {
    this.setState(({ removeOnLeave }) => ({ removeOnLeave: !removeOnLeave }));
  };

  onTriggerClassName = () => {
    this.setState(({ hasMotionClassName }) => ({
      hasMotionClassName: !hasMotionClassName,
    }));
  };

  onCollapse = () => {
    return { height: 0 };
  };

  onMotionLeaveImmediately = () => {
    this.setState(({ motionLeaveImmediately }) => ({
      motionLeaveImmediately: !motionLeaveImmediately,
    }));
  };

  skipColorTransition = (_, event) => {
    // CSSMotion support multiple transition.
    // You can return false to prevent motion end when fast transition finished.
    if (event.propertyName === 'background-color') {
      return false;
    }
    return true;
  };

  styleGreen = () => ({
    background: 'green',
  });

  render() {
    const {
      show,
      forceRender,
      motionLeaveImmediately,
      removeOnLeave,
      hasMotionClassName,
      prepare,
    } = this.state;

    return (
      <div>
        <label>
          <input type="checkbox" onChange={this.onTrigger} checked={show} />{' '}
          Show Component
        </label>

        <label>
          <input
            type="checkbox"
            onChange={this.onTriggerClassName}
            checked={hasMotionClassName}
          />{' '}
          hasMotionClassName
        </label>

        <label>
          <input
            type="checkbox"
            onChange={this.onForceRender}
            checked={forceRender}
          />{' '}
          forceRender
        </label>

        <label>
          <input
            type="checkbox"
            onChange={this.onRemoveOnLeave}
            checked={removeOnLeave}
          />{' '}
          removeOnLeave
          {removeOnLeave ? '' : ' (use leavedClassName)'}
        </label>

        <label>
          <input
            type="checkbox"
            onChange={this.onTriggerDelay}
            checked={prepare}
          />{' '}
          prepare before motion
        </label>

        <div className="grid">
          <div>
            <h2>With Transition Class</h2>
            <CSSMotion
              visible={show}
              forceRender={forceRender}
              motionName={hasMotionClassName ? 'transition' : null}
              removeOnLeave={removeOnLeave}
              leavedClassName="hidden"
              onAppearPrepare={prepare && forceDelay}
              onEnterPrepare={prepare && forceDelay}
              onAppearStart={this.onCollapse}
              onEnterStart={this.onCollapse}
              onLeaveActive={this.onCollapse}
              onEnterEnd={this.skipColorTransition}
              onLeaveEnd={this.skipColorTransition}
              onVisibleChanged={visible => {
                console.log('Visible Changed:', visible);
              }}
            >
              {({ style, className }, ref) => (
                <Div
                  ref={ref}
                  className={clsx('demo-block', className)}
                  style={style}
                />
              )}
            </CSSMotion>
          </div>

          <div>
            <h2>With Animation Class</h2>
            <CSSMotion
              visible={show}
              forceRender={forceRender}
              motionName={hasMotionClassName ? 'animation' : null}
              removeOnLeave={removeOnLeave}
              leavedClassName="hidden"
              onLeaveActive={this.styleGreen}
            >
              {({ style, className }) => (
                <div className={clsx('demo-block', className)} style={style} />
              )}
            </CSSMotion>
          </div>
        </div>

        <div>
          <button type="button" onClick={this.onMotionLeaveImmediately}>
            motionLeaveImmediately
          </button>

          <div>
            {motionLeaveImmediately && (
              <CSSMotion
                visible={false}
                motionName={hasMotionClassName ? 'transition' : null}
                removeOnLeave={removeOnLeave}
                leavedClassName="hidden"
                onLeaveActive={this.onCollapse}
                motionLeaveImmediately
                onLeaveEnd={this.skipColorTransition}
              >
                {({ style, className }) => (
                  <div
                    className={clsx('demo-block', className)}
                    style={style}
                  />
                )}
              </CSSMotion>
            )}
          </div>
        </div>
      </div>
    );
  }
}

export default App;
`},42083:function(a,e){e.Z=`import { clsx } from 'clsx';
import CSSMotion from 'rc-motion';
import React from 'react';
import './basic.less';

interface DemoState {
  show: boolean;
}

class App extends React.Component<{}, DemoState> {
  state = {
    show: true,
  };

  onTrigger = () => {
    this.setState(({ show }) => ({ show: !show }));
  };

  onStart = (ele: HTMLElement, event: object) => {
    console.log('start!', ele, event);
  };

  onEnd = (ele: HTMLElement, event: object) => {
    console.log('end!', ele, event);
  };

  render() {
    const { show } = this.state;

    return (
      <div>
        <label>
          <input type="checkbox" onChange={this.onTrigger} checked={show} />{' '}
          Show Component
        </label>

        <div className="grid">
          <div>
            <h2>With Transition Class</h2>
            <CSSMotion
              visible={show}
              motionName="no-trigger"
              motionDeadline={1000}
              removeOnLeave
              onAppearStart={this.onStart}
              onEnterStart={this.onStart}
              onLeaveStart={this.onStart}
              onAppearEnd={this.onEnd}
              onEnterEnd={this.onEnd}
              onLeaveEnd={this.onEnd}
            >
              {({ style, className }, ref) => (
                <div
                  ref={ref}
                  className={clsx('demo-block', className)}
                  style={style}
                />
              )}
            </CSSMotion>
          </div>
        </div>
      </div>
    );
  }
}

export default App;
`},69643:function(a,e){e.Z=`.debug-demo-block {
  overflow: hidden;
  box-shadow: 0 0 0 3px red;
}

.debug-motion {
  &-appear,
  &-enter {
    &-start {
      opacity: 0;
    }

    &-active {
      opacity: 1;
      transition: background 0.3s, height 1.3s, opacity 1.3s;
    }
  }
}
`},28643:function(a,e){e.Z=`import { clsx } from 'clsx';
import CSSMotion, { type CSSMotionProps } from 'rc-motion';
import React, { useState } from 'react';
import './debug.less';

const onCollapse = () => {
  console.log('\u{1F525} Collapse');
  return { height: 0 };
};

const onExpand: CSSMotionProps['onAppearActive'] = node => {
  console.log('\u{1F525} Expand');
  return { height: node.scrollHeight };
};

function DebugDemo() {
  const [key, setKey] = useState(0);

  return (
    <div>
      <button
        onClick={() => {
          setKey(prev => prev + 1);
        }}
      >
        Start
      </button>

      <CSSMotion
        visible
        motionName="debug-motion"
        motionAppear
        onAppearStart={onCollapse}
        onAppearActive={onExpand}
        key={key}
      >
        {({ style, className }, ref) => {
          console.log('render', className, style);

          return (
            <div
              ref={ref}
              className={clsx('debug-demo-block', className)}
              style={style}
            >
              <div
                style={{
                  height: 100,
                  width: 100,
                  background: 'blue',
                }}
              />
            </div>
          );
        }}
      </CSSMotion>
    </div>
  );
}

export default () => (
  <React.StrictMode>
    <DebugDemo />
  </React.StrictMode>
);
`},20670:function(a,e){e.Z=`// @import './basic.less';

.list-demo-block {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  width: 100px;
  height: 100px;
  background: red;
  border-right: 5px solid #fff;

  > span {
    position: absolute;
    top: 50%;
    left: 50%;
    color: #fff;
    font-size: 30px;
    transform: translate(-50%, -50%);
  }
}

.list-transition {
  &-appear,
  &-enter {
    &-start {
      width: 0;
      opacity: 0;
    }

    &-active {
      width: 100px;
      opacity: 1;
      transition: all 0.5s;
    }
  }

  &-leave {
    &-active {
      width: 0;
      opacity: 0;
      transition: all 0.5s;
    }
  }
}
`},99284:function(a,e){e.Z=`import { clsx } from 'clsx';
import { CSSMotionList } from 'rc-motion';
import React from 'react';
import './list.less';

interface DemoState {
  count: number;
  checkedMap: Record<string, boolean>;
  keyList: React.Key[];
}

class App extends React.Component<{}, DemoState> {
  state: DemoState = {
    count: 1,
    checkedMap: {},
    keyList: [],
  };

  componentDidMount() {
    this.onFlushMotion();
  }

  onCountChange = ({ target: { value } }) => {
    this.setState({ count: Number(value) });
  };

  onFlushMotion = () => {
    const { count, checkedMap } = this.state;
    let keyList = [];
    for (let i = 0; i < count; i += 1) {
      if (checkedMap[i] !== false) {
        keyList.push(i);
      }
    }

    keyList = keyList.map(key => {
      if (key === 3) {
        return { key, background: 'orange' };
      }
      return key;
    });

    this.setState({ keyList });
  };

  // Motion
  onCollapse = () => ({ width: 0, margin: '0 -5px 0 0' });

  render() {
    const { count, checkedMap, keyList } = this.state;

    return (
      <div>
        key 3 is a different component with others.
        {/* Input field */}
        <div>
          <label>
            node count
            <input
              type="number"
              min={0}
              value={count}
              onChange={this.onCountChange}
            />
          </label>
          <button type="button" onClick={this.onFlushMotion}>
            Flush Motion
          </button>
        </div>
        {/* Motion State */}
        <div>
          {new Array(count).fill(undefined).map((_, key) => {
            const checked = checkedMap[key] !== false;
            return (
              <label key={key}>
                <input
                  type="checkbox"
                  checked={checked}
                  onChange={() => {
                    this.setState({
                      checkedMap: {
                        ...checkedMap,
                        [key]: !checked,
                      },
                    });
                  }}
                />
                {key}
              </label>
            );
          })}
        </div>
        {/* Motion List */}
        <CSSMotionList
          keys={keyList}
          motionName="list-transition"
          onAppearStart={this.onCollapse}
          onEnterStart={this.onCollapse}
          onLeaveActive={this.onCollapse}
          onVisibleChanged={(changedVisible, info) => {
            console.log('Visible Changed >>>', changedVisible, info);
          }}
        >
          {({ key, background, className, style }) => {
            return (
              <div
                className={clsx('list-demo-block', className)}
                style={{ ...style, background }}
              >
                <span>{key}</span>
              </div>
            );
          }}
        </CSSMotionList>
      </div>
    );
  }
}

export default () => (
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
`},75994:function(a,e){e.Z=`import { clsx } from 'clsx';
import CSSMotion, { Provider } from 'rc-motion';
import React from 'react';
import './basic.less';

export default () => {
  const [show, setShow] = React.useState(true);
  const [motion, setMotion] = React.useState(false);

  const onPrepare = (node: HTMLElement) => {
    console.log('\u{1F525} prepare', node);

    return new Promise(resolve => {
      setTimeout(resolve, 500);
    });
  };

  return (
    <Provider motion={motion}>
      <button onClick={() => setShow(v => !v)}>show: {String(show)}</button>
      <button onClick={() => setMotion(v => !v)}>
        motion: {String(motion)}
      </button>

      <CSSMotion
        visible={show}
        motionName={'transition'}
        leavedClassName="hidden"
        motionAppear
        onAppearPrepare={onPrepare}
        onEnterPrepare={onPrepare}
        onLeavePrepare={onPrepare}
        onVisibleChanged={visible => {
          console.log('Visible Changed:', visible);
        }}
      >
        {({ style, className }, ref) => (
          <>
            <div
              ref={ref}
              className={clsx('demo-block', className)}
              style={style}
            />
            <ul>
              <li>ClassName: {JSON.stringify(className)}</li>
              <li>Style: {JSON.stringify(style)}</li>
            </ul>
          </>
        )}
      </CSSMotion>
    </Provider>
  );
};
`},22191:function(a,e){e.Z=`import { clsx } from 'clsx';
import CSSMotion from 'rc-motion';
import { genCSSMotion } from 'rc-motion/es/CSSMotion';
import React from 'react';
import { hydrate } from 'react-dom';
import ReactDOMServer from 'react-dom/server';
import './basic.less';

const ServerCSSMotion = genCSSMotion(false);

const onCollapse = () => ({ height: 0 });

interface MotionAppearProps {
  supportMotion: boolean;
}

const MotionAppear = ({ supportMotion }: MotionAppearProps) => {
  const Component = supportMotion ? CSSMotion : ServerCSSMotion;

  return (
    <Component
      motionName="transition"
      leavedClassName="hidden"
      motionAppear
      onAppearStart={onCollapse}
    >
      {({ style, className }, ref) => (
        <div
          ref={ref}
          className={clsx('demo-block', className)}
          style={style}
        />
      )}
    </Component>
  );
};

const App = () => {
  const ssr = ReactDOMServer.renderToString(
    <MotionAppear supportMotion={false} />,
  );

  React.useEffect(() => {
    const div = document.createElement('div');
    document.body.appendChild(div);
    div.innerHTML = ssr;

    hydrate(<MotionAppear supportMotion />, div);

    return () => {
      document.body.removeChild(div);
    };
  }, []);

  return (
    <div>
      <textarea value={ssr} style={{ width: '100%' }} rows={5} readOnly />
    </div>
  );
};

export default App;
`},18939:function(a,e){e.Z=`.debug-transition.debug-transition-leave {
  transition: max-height 20s linear;
}

.debug-transition.debug-transition-enter {
  transition: max-height 1s linear;
}

.inner-block {
  position: relative;
  top: 50px;
  left: 50px;
  width: 100px;
  height: 100px;
  background-color: yellowgreen;
  transition: background-color 1s linear;
}

.inner-block:hover {
  background-color: blueviolet;
}
`},61018:function(a,e){e.Z=`import CSSMotion from 'rc-motion';
import React from 'react';
import './transition-inside-debug.less';

export default function TransitionInsideDebug() {
  const [visible, setVisible] = React.useState(true);
  return (
    <>
      <button onClick={() => setVisible(true)} type="button">
        visible = true
      </button>
      <button onClick={() => setVisible(false)} type="button">
        visible = false
      </button>
      <CSSMotion
        visible={visible}
        motionName="debug-transition"
        onEnterStart={() => ({
          maxHeight: 0,
        })}
        onEnterActive={() => ({
          maxHeight: 200,
        })}
        onLeaveStart={() => ({
          maxHeight: 200,
        })}
        onLeaveActive={() => ({
          maxHeight: 0,
        })}
      >
        {({ className, style }, ref) => (
          <div
            className={className}
            style={{
              width: 200,
              height: 200,
              background: 'green',
              ...style,
            }}
            ref={ref}
          >
            <div className="inner-block">Hover when closing</div>
          </div>
        )}
      </CSSMotion>
    </>
  );
}
`}}]);
