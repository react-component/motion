"use strict";(self.webpackChunkrc_motion=self.webpackChunkrc_motion||[]).push([[433],{6536:function(V,m,e){e.r(m);var g=e(15009),E=e.n(g),B=e(12444),K=e.n(B),A=e(72004),O=e.n(A),N=e(25098),s=e.n(N),j=e(31996),T=e.n(j),f=e(26037),P=e.n(f),R=e(9783),t=e.n(R),h=e(97857),u=e.n(h),I=e(99289),r=e.n(I),l=e(93967),o=e.n(l),U=e(33770),v=e(67294),W=e(53144),_=e(85893);function d(){return p.apply(this,arguments)}function p(){return p=r()(E()().mark(function C(){return E()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",new Promise(function(n){setTimeout(n,2e3)}));case 1:case"end":return D.stop()}},C)})),p.apply(this,arguments)}var M=v.forwardRef(function(C,y){return v.useEffect(function(){return console.log("DIV >>> Mounted!"),function(){console.log("DIV >>> UnMounted!")}},[]),(0,_.jsx)("div",u()(u()({},C),{},{ref:y}))}),c=function(C){T()(D,C);var y=P()(D);function D(){var n;K()(this,D);for(var i=arguments.length,L=new Array(i),x=0;x<i;x++)L[x]=arguments[x];return n=y.call.apply(y,[this].concat(L)),t()(s()(n),"state",{show:!0,forceRender:!1,motionLeaveImmediately:!1,removeOnLeave:!0,hasMotionClassName:!0,prepare:!1}),t()(s()(n),"onTrigger",function(){setTimeout(function(){n.setState(function(b){var a=b.show;return{show:!a}})},100)}),t()(s()(n),"onTriggerDelay",function(){n.setState(function(b){var a=b.prepare;return{prepare:!a}})}),t()(s()(n),"onForceRender",function(){n.setState(function(b){var a=b.forceRender;return{forceRender:!a}})}),t()(s()(n),"onRemoveOnLeave",function(){n.setState(function(b){var a=b.removeOnLeave;return{removeOnLeave:!a}})}),t()(s()(n),"onTriggerClassName",function(){n.setState(function(b){var a=b.hasMotionClassName;return{hasMotionClassName:!a}})}),t()(s()(n),"onCollapse",function(){return{height:0}}),t()(s()(n),"onMotionLeaveImmediately",function(){n.setState(function(b){var a=b.motionLeaveImmediately;return{motionLeaveImmediately:!a}})}),t()(s()(n),"skipColorTransition",function(b,a){return a.propertyName!=="background-color"}),t()(s()(n),"styleGreen",function(){return{background:"green"}}),n}return O()(D,[{key:"render",value:function(){var i=this.state,L=i.show,x=i.forceRender,b=i.motionLeaveImmediately,a=i.removeOnLeave,z=i.hasMotionClassName,H=i.prepare;return(0,_.jsxs)("div",{children:[(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onTrigger,checked:L})," ","Show Component"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onTriggerClassName,checked:z})," ","hasMotionClassName"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onForceRender,checked:x})," ","forceRender"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onRemoveOnLeave,checked:a})," ","removeOnLeave",a?"":" (use leavedClassName)"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onTriggerDelay,checked:H})," ","prepare before motion"]}),(0,_.jsxs)("div",{className:"grid",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{children:"With Transition Class"}),(0,_.jsx)(U.default,{visible:L,forceRender:x,motionName:z?"transition":null,removeOnLeave:a,leavedClassName:"hidden",onAppearPrepare:H&&d,onEnterPrepare:H&&d,onAppearStart:this.onCollapse,onEnterStart:this.onCollapse,onLeaveActive:this.onCollapse,onEnterEnd:this.skipColorTransition,onLeaveEnd:this.skipColorTransition,onVisibleChanged:function(S){console.log("Visible Changed:",S)},children:function(S,$){var F=S.style,J=S.className;return(0,_.jsx)(M,{ref:$,className:o()("demo-block",J),style:F})}})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{children:"With Animation Class"}),(0,_.jsx)(U.default,{visible:L,forceRender:x,motionName:z?"animation":null,removeOnLeave:a,leavedClassName:"hidden",onLeaveActive:this.styleGreen,children:function(S){var $=S.style,F=S.className;return(0,_.jsx)("div",{className:o()("demo-block",F),style:$})}})]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("button",{type:"button",onClick:this.onMotionLeaveImmediately,children:"motionLeaveImmediately"}),(0,_.jsx)("div",{children:b&&(0,_.jsx)(U.default,{visible:!1,motionName:z?"transition":null,removeOnLeave:a,leavedClassName:"hidden",onLeaveActive:this.onCollapse,motionLeaveImmediately:!0,onLeaveEnd:this.skipColorTransition,children:function(S){var $=S.style,F=S.className;return(0,_.jsx)("div",{className:o()("demo-block",F),style:$})}})})]})]})}}]),D}(v.Component);m.default=c},93797:function(V,m,e){e.r(m);var g=e(12444),E=e.n(g),B=e(72004),K=e.n(B),A=e(25098),O=e.n(A),N=e(31996),s=e.n(N),j=e(26037),T=e.n(j),f=e(9783),P=e.n(f),R=e(93967),t=e.n(R),h=e(33770),u=e(67294),I=e(53144),r=e(85893),l=function(o){s()(v,o);var U=T()(v);function v(){var W;E()(this,v);for(var _=arguments.length,d=new Array(_),p=0;p<_;p++)d[p]=arguments[p];return W=U.call.apply(U,[this].concat(d)),P()(O()(W),"state",{show:!0}),P()(O()(W),"onTrigger",function(){W.setState(function(M){var c=M.show;return{show:!c}})}),P()(O()(W),"onStart",function(M,c){console.log("start!",M,c)}),P()(O()(W),"onEnd",function(M,c){console.log("end!",M,c)}),W}return K()(v,[{key:"render",value:function(){var _=this.state.show;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",onChange:this.onTrigger,checked:_})," ","Show Component"]}),(0,r.jsx)("div",{className:"grid",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"With Transition Class"}),(0,r.jsx)(h.default,{visible:_,motionName:"no-trigger",motionDeadline:1e3,removeOnLeave:!0,onAppearStart:this.onStart,onEnterStart:this.onStart,onLeaveStart:this.onStart,onAppearEnd:this.onEnd,onEnterEnd:this.onEnd,onLeaveEnd:this.onEnd,children:function(p,M){var c=p.style,C=p.className;return(0,r.jsx)("div",{ref:M,className:t()("demo-block",C),style:c})}})]})})]})}}]),v}(u.Component);m.default=l},77277:function(V,m,e){e.r(m);var g=e(97857),E=e.n(g),B=e(12444),K=e.n(B),A=e(72004),O=e.n(A),N=e(25098),s=e.n(N),j=e(31996),T=e.n(j),f=e(26037),P=e.n(f),R=e(9783),t=e.n(R),h=e(93967),u=e.n(h),I=e(33770),r=e(67294),l=e(50696),o=e(85893),U=function(v){T()(_,v);var W=P()(_);function _(){var d;K()(this,_);for(var p=arguments.length,M=new Array(p),c=0;c<p;c++)M[c]=arguments[c];return d=W.call.apply(W,[this].concat(M)),t()(s()(d),"state",{count:1,checkedMap:{},keyList:[]}),t()(s()(d),"onCountChange",function(C){var y=C.target.value;d.setState({count:Number(y)})}),t()(s()(d),"onFlushMotion",function(){for(var C=d.state,y=C.count,D=C.checkedMap,n=[],i=0;i<y;i+=1)D[i]!==!1&&n.push(i);n=n.map(function(L){return L===3?{key:L,background:"orange"}:L}),d.setState({keyList:n})}),t()(s()(d),"onCollapse",function(){return{width:0,margin:"0 -5px 0 0"}}),d}return O()(_,[{key:"componentDidMount",value:function(){this.onFlushMotion()}},{key:"render",value:function(){var p=this,M=this.state,c=M.count,C=M.checkedMap,y=M.keyList;return(0,o.jsxs)("div",{children:["key 3 is a different component with others.",(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{children:["node count",(0,o.jsx)("input",{type:"number",min:0,value:c,onChange:this.onCountChange})]}),(0,o.jsx)("button",{type:"button",onClick:this.onFlushMotion,children:"Flush Motion"})]}),(0,o.jsx)("div",{children:new Array(c).fill(void 0).map(function(D,n){var i=C[n]!==!1;return(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:i,onChange:function(){p.setState({checkedMap:E()(E()({},C),{},t()({},n,!i))})}}),n]},n)})}),(0,o.jsx)(I.CSSMotionList,{keys:y,motionName:"transition",onAppearStart:this.onCollapse,onEnterStart:this.onCollapse,onLeaveActive:this.onCollapse,onVisibleChanged:function(n,i){console.log("Visible Changed >>>",n,i)},children:function(n){var i=n.key,L=n.background,x=n.className,b=n.style;return(0,o.jsx)("div",{className:u()("list-demo-block",x),style:E()(E()({},b),{},{background:L}),children:(0,o.jsx)("span",{children:i})})}})]})}}]),_}(r.Component);m.default=function(){return(0,o.jsx)(r.StrictMode,{children:(0,o.jsx)(U,{})})}},80375:function(V,m,e){e.r(m);var g=e(5574),E=e.n(g),B=e(93967),K=e.n(B),A=e(33770),O=e(67294),N=e(53144),s=e(85893);m.default=function(){var j=O.useState(!0),T=E()(j,2),f=T[0],P=T[1],R=O.useState(!1),t=E()(R,2),h=t[0],u=t[1],I=function(l){return console.log("\u{1F525} prepare",l),new Promise(function(o){setTimeout(o,500)})};return(0,s.jsxs)(A.Provider,{motion:h,children:[(0,s.jsxs)("button",{onClick:function(){return P(function(l){return!l})},children:["show: ",String(f)]}),(0,s.jsxs)("button",{onClick:function(){return u(function(l){return!l})},children:["motion: ",String(h)]}),(0,s.jsx)(A.default,{visible:f,motionName:"transition",leavedClassName:"hidden",motionAppear:!0,onAppearPrepare:I,onEnterPrepare:I,onLeavePrepare:I,onVisibleChanged:function(l){console.log("Visible Changed:",l)},children:function(l,o){var U=l.style,v=l.className;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{ref:o,className:K()("demo-block",v),style:U}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:["ClassName: ",JSON.stringify(v)]}),(0,s.jsxs)("li",{children:["Style: ",JSON.stringify(U)]})]})]})}})]})}},72079:function(V,m,e){e.r(m);var g=e(93967),E=e.n(g),B=e(33770),K=e(45996),A=e(67294),O=e(73935),N=e(97762),s=e(53144),j=e(85893),T=(0,K.genCSSMotion)(!1),f=function(){return{height:0}},P=function(h){var u=h.supportMotion,I=u?B.default:T;return(0,j.jsx)(I,{motionName:"transition",leavedClassName:"hidden",motionAppear:!0,onAppearStart:f,children:function(l,o){var U=l.style,v=l.className;return(0,j.jsx)("div",{ref:o,className:E()("demo-block",v),style:U})}})},R=function(){var h=N.renderToString((0,j.jsx)(P,{supportMotion:!1}));return A.useEffect(function(){var u=document.createElement("div");return document.body.appendChild(u),u.innerHTML=h,(0,O.hydrate)((0,j.jsx)(P,{supportMotion:!0}),u),function(){document.body.removeChild(u)}},[]),(0,j.jsx)("div",{children:(0,j.jsx)("textarea",{value:h,style:{width:"100%"},rows:5,readOnly:!0})})};m.default=R},13828:function(V,m,e){e.r(m),e.d(m,{default:function(){return j}});var g=e(97857),E=e.n(g),B=e(5574),K=e.n(B),A=e(33770),O=e(67294),N=e(37299),s=e(85893);function j(){var T=O.useState(!0),f=K()(T,2),P=f[0],R=f[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:function(){return R(!0)},type:"button",children:"visible = true"}),(0,s.jsx)("button",{onClick:function(){return R(!1)},type:"button",children:"visible = false"}),(0,s.jsx)(A.default,{visible:P,motionName:"debug-transition",onEnterStart:function(){return{maxHeight:0}},onEnterActive:function(){return{maxHeight:200}},onLeaveStart:function(){return{maxHeight:200}},onLeaveActive:function(){return{maxHeight:0}},children:function(h,u){var I=h.className,r=h.style;return(0,s.jsx)("div",{className:I,style:E()({width:200,height:200,background:"green"},r),ref:u,children:(0,s.jsx)("div",{className:"inner-block",children:"Hover when closing"})})}})]})}}}]);
