"use strict";(self.webpackChunk_rc_component_motion=self.webpackChunk_rc_component_motion||[]).push([[433],{6536:function(N,d,e){e.r(d);var I=e(15009),j=e.n(I),x=e(12444),L=e.n(x),D=e(72004),A=e.n(D),r=e(25098),s=e.n(r),T=e(31996),R=e.n(T),v=e(26037),u=e.n(v),M=e(9783),t=e.n(M),m=e(97857),h=e.n(m),i=e(99289),l=e.n(i),o=e(90512),g=e(33770),b=e(67294),y=e(53144),_=e(85893);function E(){return O.apply(this,arguments)}function O(){return O=l()(j()().mark(function f(){return j()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",new Promise(function(n){setTimeout(n,2e3)}));case 1:case"end":return U.stop()}},f)})),O.apply(this,arguments)}var P=b.forwardRef(function(f,K){return b.useEffect(function(){return console.log("DIV >>> Mounted!"),function(){console.log("DIV >>> UnMounted!")}},[]),(0,_.jsx)("div",h()(h()({},f),{},{ref:K}))}),p=function(f){R()(U,f);var K=u()(U);function U(){var n;L()(this,U);for(var a=arguments.length,W=new Array(a),B=0;B<a;B++)W[B]=arguments[B];return n=K.call.apply(K,[this].concat(W)),t()(s()(n),"state",{show:!0,forceRender:!1,motionLeaveImmediately:!1,removeOnLeave:!0,hasMotionClassName:!0,prepare:!1}),t()(s()(n),"onTrigger",function(){setTimeout(function(){n.setState(function(C){var c=C.show;return{show:!c}})},100)}),t()(s()(n),"onTriggerDelay",function(){n.setState(function(C){var c=C.prepare;return{prepare:!c}})}),t()(s()(n),"onForceRender",function(){n.setState(function(C){var c=C.forceRender;return{forceRender:!c}})}),t()(s()(n),"onRemoveOnLeave",function(){n.setState(function(C){var c=C.removeOnLeave;return{removeOnLeave:!c}})}),t()(s()(n),"onTriggerClassName",function(){n.setState(function(C){var c=C.hasMotionClassName;return{hasMotionClassName:!c}})}),t()(s()(n),"onCollapse",function(){return{height:0}}),t()(s()(n),"onMotionLeaveImmediately",function(){n.setState(function(C){var c=C.motionLeaveImmediately;return{motionLeaveImmediately:!c}})}),t()(s()(n),"skipColorTransition",function(C,c){return c.propertyName!=="background-color"}),t()(s()(n),"styleGreen",function(){return{background:"green"}}),n}return A()(U,[{key:"render",value:function(){var a=this.state,W=a.show,B=a.forceRender,C=a.motionLeaveImmediately,c=a.removeOnLeave,F=a.hasMotionClassName,H=a.prepare;return(0,_.jsxs)("div",{children:[(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onTrigger,checked:W})," ","Show Component"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onTriggerClassName,checked:F})," ","hasMotionClassName"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onForceRender,checked:B})," ","forceRender"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onRemoveOnLeave,checked:c})," ","removeOnLeave",c?"":" (use leavedClassName)"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onTriggerDelay,checked:H})," ","prepare before motion"]}),(0,_.jsxs)("div",{className:"grid",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{children:"With Transition Class"}),(0,_.jsx)(g.default,{visible:W,forceRender:B,motionName:F?"transition":null,removeOnLeave:c,leavedClassName:"hidden",onAppearPrepare:H&&E,onEnterPrepare:H&&E,onAppearStart:this.onCollapse,onEnterStart:this.onCollapse,onLeaveActive:this.onCollapse,onEnterEnd:this.skipColorTransition,onLeaveEnd:this.skipColorTransition,onVisibleChanged:function(S){console.log("Visible Changed:",S)},children:function(S,V){var $=S.style,G=S.className;return(0,_.jsx)(P,{ref:V,className:(0,o.clsx)("demo-block",G),style:$})}})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{children:"With Animation Class"}),(0,_.jsx)(g.default,{visible:W,forceRender:B,motionName:F?"animation":null,removeOnLeave:c,leavedClassName:"hidden",onLeaveActive:this.styleGreen,children:function(S){var V=S.style,$=S.className;return(0,_.jsx)("div",{className:(0,o.clsx)("demo-block",$),style:V})}})]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("button",{type:"button",onClick:this.onMotionLeaveImmediately,children:"motionLeaveImmediately"}),(0,_.jsx)("div",{children:C&&(0,_.jsx)(g.default,{visible:!1,motionName:F?"transition":null,removeOnLeave:c,leavedClassName:"hidden",onLeaveActive:this.onCollapse,motionLeaveImmediately:!0,onLeaveEnd:this.skipColorTransition,children:function(S){var V=S.style,$=S.className;return(0,_.jsx)("div",{className:(0,o.clsx)("demo-block",$),style:V})}})})]})]})}}]),U}(b.Component);d.default=p},93797:function(N,d,e){e.r(d);var I=e(12444),j=e.n(I),x=e(72004),L=e.n(x),D=e(25098),A=e.n(D),r=e(31996),s=e.n(r),T=e(26037),R=e.n(T),v=e(9783),u=e.n(v),M=e(90512),t=e(33770),m=e(67294),h=e(53144),i=e(85893),l=function(o){s()(b,o);var g=R()(b);function b(){var y;j()(this,b);for(var _=arguments.length,E=new Array(_),O=0;O<_;O++)E[O]=arguments[O];return y=g.call.apply(g,[this].concat(E)),u()(A()(y),"state",{show:!0}),u()(A()(y),"onTrigger",function(){y.setState(function(P){var p=P.show;return{show:!p}})}),u()(A()(y),"onStart",function(P,p){console.log("start!",P,p)}),u()(A()(y),"onEnd",function(P,p){console.log("end!",P,p)}),y}return L()(b,[{key:"render",value:function(){var _=this.state.show;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",onChange:this.onTrigger,checked:_})," ","Show Component"]}),(0,i.jsx)("div",{className:"grid",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"With Transition Class"}),(0,i.jsx)(t.default,{visible:_,motionName:"no-trigger",motionDeadline:1e3,removeOnLeave:!0,onAppearStart:this.onStart,onEnterStart:this.onStart,onLeaveStart:this.onStart,onAppearEnd:this.onEnd,onEnterEnd:this.onEnd,onLeaveEnd:this.onEnd,children:function(O,P){var p=O.style,f=O.className;return(0,i.jsx)("div",{ref:P,className:(0,M.clsx)("demo-block",f),style:p})}})]})})]})}}]),b}(m.Component);d.default=l},57349:function(N,d,e){e.r(d);var I=e(5574),j=e.n(I),x=e(90512),L=e(33770),D=e(67294),A=e(16383),r=e(85893),s=function(){return console.log("\u{1F525} Collapse"),{height:0}},T=function(u){return console.log("\u{1F525} Expand"),{height:u.scrollHeight}};function R(){var v=(0,D.useState)(0),u=j()(v,2),M=u[0],t=u[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:function(){t(function(h){return h+1})},children:"Start"}),(0,r.jsx)(L.default,{visible:!0,motionName:"debug-motion",motionAppear:!0,onAppearStart:s,onAppearActive:T,children:function(h,i){var l=h.style,o=h.className;return console.log("render",o,l),(0,r.jsx)("div",{ref:i,className:(0,x.clsx)("debug-demo-block",o),style:l,children:(0,r.jsx)("div",{style:{height:100,width:100,background:"blue"}})})}},M)]})}d.default=function(){return(0,r.jsx)(D.StrictMode,{children:(0,r.jsx)(R,{})})}},77277:function(N,d,e){e.r(d);var I=e(97857),j=e.n(I),x=e(12444),L=e.n(x),D=e(72004),A=e.n(D),r=e(25098),s=e.n(r),T=e(31996),R=e.n(T),v=e(26037),u=e.n(v),M=e(9783),t=e.n(M),m=e(90512),h=e(33770),i=e(67294),l=e(50696),o=e(85893),g=function(b){R()(_,b);var y=u()(_);function _(){var E;L()(this,_);for(var O=arguments.length,P=new Array(O),p=0;p<O;p++)P[p]=arguments[p];return E=y.call.apply(y,[this].concat(P)),t()(s()(E),"state",{count:1,checkedMap:{},keyList:[]}),t()(s()(E),"onCountChange",function(f){var K=f.target.value;E.setState({count:Number(K)})}),t()(s()(E),"onFlushMotion",function(){for(var f=E.state,K=f.count,U=f.checkedMap,n=[],a=0;a<K;a+=1)U[a]!==!1&&n.push(a);n=n.map(function(W){return W===3?{key:W,background:"orange"}:W}),E.setState({keyList:n})}),t()(s()(E),"onCollapse",function(){return{width:0,margin:"0 -5px 0 0"}}),E}return A()(_,[{key:"componentDidMount",value:function(){this.onFlushMotion()}},{key:"render",value:function(){var O=this,P=this.state,p=P.count,f=P.checkedMap,K=P.keyList;return(0,o.jsxs)("div",{children:["key 3 is a different component with others.",(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{children:["node count",(0,o.jsx)("input",{type:"number",min:0,value:p,onChange:this.onCountChange})]}),(0,o.jsx)("button",{type:"button",onClick:this.onFlushMotion,children:"Flush Motion"})]}),(0,o.jsx)("div",{children:new Array(p).fill(void 0).map(function(U,n){var a=f[n]!==!1;return(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:a,onChange:function(){O.setState({checkedMap:j()(j()({},f),{},t()({},n,!a))})}}),n]},n)})}),(0,o.jsx)(h.CSSMotionList,{keys:K,motionName:"list-transition",onAppearStart:this.onCollapse,onEnterStart:this.onCollapse,onLeaveActive:this.onCollapse,onVisibleChanged:function(n,a){console.log("Visible Changed >>>",n,a)},children:function(n){var a=n.key,W=n.background,B=n.className,C=n.style;return(0,o.jsx)("div",{className:(0,m.clsx)("list-demo-block",B),style:j()(j()({},C),{},{background:W}),children:(0,o.jsx)("span",{children:a})})}})]})}}]),_}(i.Component);d.default=function(){return(0,o.jsx)(i.StrictMode,{children:(0,o.jsx)(g,{})})}},80375:function(N,d,e){e.r(d);var I=e(5574),j=e.n(I),x=e(90512),L=e(33770),D=e(67294),A=e(53144),r=e(85893);d.default=function(){var s=D.useState(!0),T=j()(s,2),R=T[0],v=T[1],u=D.useState(!1),M=j()(u,2),t=M[0],m=M[1],h=function(l){return console.log("\u{1F525} prepare",l),new Promise(function(o){setTimeout(o,500)})};return(0,r.jsxs)(L.Provider,{motion:t,children:[(0,r.jsxs)("button",{onClick:function(){return v(function(l){return!l})},children:["show: ",String(R)]}),(0,r.jsxs)("button",{onClick:function(){return m(function(l){return!l})},children:["motion: ",String(t)]}),(0,r.jsx)(L.default,{visible:R,motionName:"transition",leavedClassName:"hidden",motionAppear:!0,onAppearPrepare:h,onEnterPrepare:h,onLeavePrepare:h,onVisibleChanged:function(l){console.log("Visible Changed:",l)},children:function(l,o){var g=l.style,b=l.className;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:o,className:(0,x.clsx)("demo-block",b),style:g}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["ClassName: ",JSON.stringify(b)]}),(0,r.jsxs)("li",{children:["Style: ",JSON.stringify(g)]})]})]})}})]})}},72079:function(N,d,e){e.r(d);var I=e(90512),j=e(33770),x=e(91331),L=e(67294),D=e(73935),A=e(97762),r=e(53144),s=e(85893),T=(0,x.genCSSMotion)(!1),R=function(){return{height:0}},v=function(t){var m=t.supportMotion,h=m?j.default:T;return(0,s.jsx)(h,{motionName:"transition",leavedClassName:"hidden",motionAppear:!0,onAppearStart:R,children:function(l,o){var g=l.style,b=l.className;return(0,s.jsx)("div",{ref:o,className:(0,I.clsx)("demo-block",b),style:g})}})},u=function(){var t=A.renderToString((0,s.jsx)(v,{supportMotion:!1}));return L.useEffect(function(){var m=document.createElement("div");return document.body.appendChild(m),m.innerHTML=t,(0,D.hydrate)((0,s.jsx)(v,{supportMotion:!0}),m),function(){document.body.removeChild(m)}},[]),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{value:t,style:{width:"100%"},rows:5,readOnly:!0})})};d.default=u},13828:function(N,d,e){e.r(d),e.d(d,{default:function(){return T}});var I=e(97857),j=e.n(I),x=e(5574),L=e.n(x),D=e(33770),A=e(67294),r=e(37299),s=e(85893);function T(){var R=A.useState(!0),v=L()(R,2),u=v[0],M=v[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:function(){return M(!0)},type:"button",children:"visible = true"}),(0,s.jsx)("button",{onClick:function(){return M(!1)},type:"button",children:"visible = false"}),(0,s.jsx)(D.default,{visible:u,motionName:"debug-transition",onEnterStart:function(){return{maxHeight:0}},onEnterActive:function(){return{maxHeight:200}},onLeaveStart:function(){return{maxHeight:200}},onLeaveActive:function(){return{maxHeight:0}},children:function(m,h){var i=m.className,l=m.style;return(0,s.jsx)("div",{className:i,style:j()({width:200,height:200,background:"green"},l),ref:h,children:(0,s.jsx)("div",{className:"inner-block",children:"Hover when closing"})})}})]})}}}]);
