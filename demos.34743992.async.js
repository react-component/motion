"use strict";(self.webpackChunk_rc_component_motion=self.webpackChunk_rc_component_motion||[]).push([[433],{6536:function(N,d,e){e.r(d);var W=e(15009),E=e.n(W),y=e(12444),T=e.n(y),R=e(72004),p=e.n(R),u=e(25098),n=e.n(u),I=e(31996),x=e.n(I),D=e(26037),C=e.n(D),O=e(9783),t=e.n(O),c=e(97857),U=e.n(c),r=e(99289),l=e.n(r),o=e(90512),L=e(33770),v=e(67294),g=e(53144),_=e(85893);function m(){return j.apply(this,arguments)}function j(){return j=l()(E()().mark(function M(){return E()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(s){setTimeout(s,2e3)}));case 1:case"end":return b.stop()}},M)})),j.apply(this,arguments)}var P=v.forwardRef(function(M,B){return v.useEffect(function(){return console.log("DIV >>> Mounted!"),function(){console.log("DIV >>> UnMounted!")}},[]),(0,_.jsx)("div",U()(U()({},M),{},{ref:B}))}),h=function(M){x()(b,M);var B=C()(b);function b(){var s;T()(this,b);for(var a=arguments.length,A=new Array(a),K=0;K<a;K++)A[K]=arguments[K];return s=B.call.apply(B,[this].concat(A)),t()(n()(s),"state",{show:!0,forceRender:!1,motionLeaveImmediately:!1,removeOnLeave:!0,hasMotionClassName:!0,prepare:!1}),t()(n()(s),"onTrigger",function(){setTimeout(function(){s.setState(function(f){var i=f.show;return{show:!i}})},100)}),t()(n()(s),"onTriggerDelay",function(){s.setState(function(f){var i=f.prepare;return{prepare:!i}})}),t()(n()(s),"onForceRender",function(){s.setState(function(f){var i=f.forceRender;return{forceRender:!i}})}),t()(n()(s),"onRemoveOnLeave",function(){s.setState(function(f){var i=f.removeOnLeave;return{removeOnLeave:!i}})}),t()(n()(s),"onTriggerClassName",function(){s.setState(function(f){var i=f.hasMotionClassName;return{hasMotionClassName:!i}})}),t()(n()(s),"onCollapse",function(){return{height:0}}),t()(n()(s),"onMotionLeaveImmediately",function(){s.setState(function(f){var i=f.motionLeaveImmediately;return{motionLeaveImmediately:!i}})}),t()(n()(s),"skipColorTransition",function(f,i){return i.propertyName!=="background-color"}),t()(n()(s),"styleGreen",function(){return{background:"green"}}),s}return p()(b,[{key:"render",value:function(){var a=this.state,A=a.show,K=a.forceRender,f=a.motionLeaveImmediately,i=a.removeOnLeave,F=a.hasMotionClassName,z=a.prepare;return(0,_.jsxs)("div",{children:[(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onTrigger,checked:A})," ","Show Component"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onTriggerClassName,checked:F})," ","hasMotionClassName"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onForceRender,checked:K})," ","forceRender"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onRemoveOnLeave,checked:i})," ","removeOnLeave",i?"":" (use leavedClassName)"]}),(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{type:"checkbox",onChange:this.onTriggerDelay,checked:z})," ","prepare before motion"]}),(0,_.jsxs)("div",{className:"grid",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{children:"With Transition Class"}),(0,_.jsx)(L.default,{visible:A,forceRender:K,motionName:F?"transition":null,removeOnLeave:i,leavedClassName:"hidden",onAppearPrepare:z&&m,onEnterPrepare:z&&m,onAppearStart:this.onCollapse,onEnterStart:this.onCollapse,onLeaveActive:this.onCollapse,onEnterEnd:this.skipColorTransition,onLeaveEnd:this.skipColorTransition,onVisibleChanged:function(S){console.log("Visible Changed:",S)},children:function(S,V){var $=S.style,G=S.className;return(0,_.jsx)(P,{ref:V,className:(0,o.clsx)("demo-block",G),style:$})}})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{children:"With Animation Class"}),(0,_.jsx)(L.default,{visible:A,forceRender:K,motionName:F?"animation":null,removeOnLeave:i,leavedClassName:"hidden",onLeaveActive:this.styleGreen,children:function(S){var V=S.style,$=S.className;return(0,_.jsx)("div",{className:(0,o.clsx)("demo-block",$),style:V})}})]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("button",{type:"button",onClick:this.onMotionLeaveImmediately,children:"motionLeaveImmediately"}),(0,_.jsx)("div",{children:f&&(0,_.jsx)(L.default,{visible:!1,motionName:F?"transition":null,removeOnLeave:i,leavedClassName:"hidden",onLeaveActive:this.onCollapse,motionLeaveImmediately:!0,onLeaveEnd:this.skipColorTransition,children:function(S){var V=S.style,$=S.className;return(0,_.jsx)("div",{className:(0,o.clsx)("demo-block",$),style:V})}})})]})]})}}]),b}(v.Component);d.default=h},93797:function(N,d,e){e.r(d);var W=e(12444),E=e.n(W),y=e(72004),T=e.n(y),R=e(25098),p=e.n(R),u=e(31996),n=e.n(u),I=e(26037),x=e.n(I),D=e(9783),C=e.n(D),O=e(90512),t=e(33770),c=e(67294),U=e(53144),r=e(85893),l=function(o){n()(v,o);var L=x()(v);function v(){var g;E()(this,v);for(var _=arguments.length,m=new Array(_),j=0;j<_;j++)m[j]=arguments[j];return g=L.call.apply(L,[this].concat(m)),C()(p()(g),"state",{show:!0}),C()(p()(g),"onTrigger",function(){g.setState(function(P){var h=P.show;return{show:!h}})}),C()(p()(g),"onStart",function(P,h){console.log("start!",P,h)}),C()(p()(g),"onEnd",function(P,h){console.log("end!",P,h)}),g}return T()(v,[{key:"render",value:function(){var _=this.state.show;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",onChange:this.onTrigger,checked:_})," ","Show Component"]}),(0,r.jsx)("div",{className:"grid",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"With Transition Class"}),(0,r.jsx)(t.default,{visible:_,motionName:"no-trigger",motionDeadline:1e3,removeOnLeave:!0,onAppearStart:this.onStart,onEnterStart:this.onStart,onLeaveStart:this.onStart,onAppearEnd:this.onEnd,onEnterEnd:this.onEnd,onLeaveEnd:this.onEnd,children:function(j,P){var h=j.style,M=j.className;return(0,r.jsx)("div",{ref:P,className:(0,O.clsx)("demo-block",M),style:h})}})]})})]})}}]),v}(c.Component);d.default=l},77277:function(N,d,e){e.r(d);var W=e(97857),E=e.n(W),y=e(12444),T=e.n(y),R=e(72004),p=e.n(R),u=e(25098),n=e.n(u),I=e(31996),x=e.n(I),D=e(26037),C=e.n(D),O=e(9783),t=e.n(O),c=e(90512),U=e(33770),r=e(67294),l=e(50696),o=e(85893),L=function(v){x()(_,v);var g=C()(_);function _(){var m;T()(this,_);for(var j=arguments.length,P=new Array(j),h=0;h<j;h++)P[h]=arguments[h];return m=g.call.apply(g,[this].concat(P)),t()(n()(m),"state",{count:1,checkedMap:{},keyList:[]}),t()(n()(m),"onCountChange",function(M){var B=M.target.value;m.setState({count:Number(B)})}),t()(n()(m),"onFlushMotion",function(){for(var M=m.state,B=M.count,b=M.checkedMap,s=[],a=0;a<B;a+=1)b[a]!==!1&&s.push(a);s=s.map(function(A){return A===3?{key:A,background:"orange"}:A}),m.setState({keyList:s})}),t()(n()(m),"onCollapse",function(){return{width:0,margin:"0 -5px 0 0"}}),m}return p()(_,[{key:"componentDidMount",value:function(){this.onFlushMotion()}},{key:"render",value:function(){var j=this,P=this.state,h=P.count,M=P.checkedMap,B=P.keyList;return(0,o.jsxs)("div",{children:["key 3 is a different component with others.",(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{children:["node count",(0,o.jsx)("input",{type:"number",min:0,value:h,onChange:this.onCountChange})]}),(0,o.jsx)("button",{type:"button",onClick:this.onFlushMotion,children:"Flush Motion"})]}),(0,o.jsx)("div",{children:new Array(h).fill(void 0).map(function(b,s){var a=M[s]!==!1;return(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:a,onChange:function(){j.setState({checkedMap:E()(E()({},M),{},t()({},s,!a))})}}),s]},s)})}),(0,o.jsx)(U.CSSMotionList,{keys:B,motionName:"transition",onAppearStart:this.onCollapse,onEnterStart:this.onCollapse,onLeaveActive:this.onCollapse,onVisibleChanged:function(s,a){console.log("Visible Changed >>>",s,a)},children:function(s){var a=s.key,A=s.background,K=s.className,f=s.style;return(0,o.jsx)("div",{className:(0,c.clsx)("list-demo-block",K),style:E()(E()({},f),{},{background:A}),children:(0,o.jsx)("span",{children:a})})}})]})}}]),_}(r.Component);d.default=function(){return(0,o.jsx)(r.StrictMode,{children:(0,o.jsx)(L,{})})}},80375:function(N,d,e){e.r(d);var W=e(5574),E=e.n(W),y=e(90512),T=e(33770),R=e(67294),p=e(53144),u=e(85893);d.default=function(){var n=R.useState(!0),I=E()(n,2),x=I[0],D=I[1],C=R.useState(!1),O=E()(C,2),t=O[0],c=O[1],U=function(l){return console.log("\u{1F525} prepare",l),new Promise(function(o){setTimeout(o,500)})};return(0,u.jsxs)(T.Provider,{motion:t,children:[(0,u.jsxs)("button",{onClick:function(){return D(function(l){return!l})},children:["show: ",String(x)]}),(0,u.jsxs)("button",{onClick:function(){return c(function(l){return!l})},children:["motion: ",String(t)]}),(0,u.jsx)(T.default,{visible:x,motionName:"transition",leavedClassName:"hidden",motionAppear:!0,onAppearPrepare:U,onEnterPrepare:U,onLeavePrepare:U,onVisibleChanged:function(l){console.log("Visible Changed:",l)},children:function(l,o){var L=l.style,v=l.className;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{ref:o,className:(0,y.clsx)("demo-block",v),style:L}),(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",{children:["ClassName: ",JSON.stringify(v)]}),(0,u.jsxs)("li",{children:["Style: ",JSON.stringify(L)]})]})]})}})]})}},72079:function(N,d,e){e.r(d);var W=e(90512),E=e(33770),y=e(91331),T=e(67294),R=e(73935),p=e(97762),u=e(53144),n=e(85893),I=(0,y.genCSSMotion)(!1),x=function(){return{height:0}},D=function(t){var c=t.supportMotion,U=c?E.default:I;return(0,n.jsx)(U,{motionName:"transition",leavedClassName:"hidden",motionAppear:!0,onAppearStart:x,children:function(l,o){var L=l.style,v=l.className;return(0,n.jsx)("div",{ref:o,className:(0,W.clsx)("demo-block",v),style:L})}})},C=function(){var t=p.renderToString((0,n.jsx)(D,{supportMotion:!1}));return T.useEffect(function(){var c=document.createElement("div");return document.body.appendChild(c),c.innerHTML=t,(0,R.hydrate)((0,n.jsx)(D,{supportMotion:!0}),c),function(){document.body.removeChild(c)}},[]),(0,n.jsx)("div",{children:(0,n.jsx)("textarea",{value:t,style:{width:"100%"},rows:5,readOnly:!0})})};d.default=C},13828:function(N,d,e){e.r(d),e.d(d,{default:function(){return I}});var W=e(97857),E=e.n(W),y=e(5574),T=e.n(y),R=e(33770),p=e(67294),u=e(37299),n=e(85893);function I(){var x=p.useState(!0),D=T()(x,2),C=D[0],O=D[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:function(){return O(!0)},type:"button",children:"visible = true"}),(0,n.jsx)("button",{onClick:function(){return O(!1)},type:"button",children:"visible = false"}),(0,n.jsx)(R.default,{visible:C,motionName:"debug-transition",onEnterStart:function(){return{maxHeight:0}},onEnterActive:function(){return{maxHeight:200}},onLeaveStart:function(){return{maxHeight:200}},onLeaveActive:function(){return{maxHeight:0}},children:function(c,U){var r=c.className,l=c.style;return(0,n.jsx)("div",{className:r,style:E()({width:200,height:200,background:"green"},l),ref:U,children:(0,n.jsx)("div",{className:"inner-block",children:"Hover when closing"})})}})]})}}}]);
